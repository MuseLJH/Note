# vulnhub 靶机实战

## 前言

要想走得远，需时刻提醒自己：走出舒适区，接受新知识。

> PS：这种把心得体会写下来的感觉挺好的，相比直接了当的技术文章，这种心得类文章很少见，新人也喜欢看心得，可以解决心中的疑惑。以后多写写，多做笔记，帮助他人等于帮助自己。

实战好玩，紧张刺激，但实战并不能针对性地练习某一种知识，更像是一种综合性的考试，不利于能力的提高。

其次，大牛都说，渗透测试的本质就是信息收集，信息收集的程度决定了你能否日下来的可能性。可惜，信息收集最耗费的就是时间。对于新手来说，很容易得不偿失。这里表达的意思并非是信息收集不需要练习，而是效益不高，平时的侧重点更应该放到对漏洞的敏感性训练上，否则即使你遇到漏洞依然发现不了，这种情况就很尴尬了。

所以说，CTF 题目的练习是很重要的，将每个动作进行分解，练熟，以后遇到综合性的渗透也能游刃有余。

大型的 CTF 以及国际赛，考察的更是快速学习的能力，平常出烂了的套路题基本不会出现，没多大意义。一个陌生的情景下，对信息的搜集、漏洞的快速锁定以及漏洞的利用要求非常高，往往需要深入到源码底层，直接复制个 `exp` 打过去基本不会见效，需要迅速理解原理。出题人又不脑残，随便找个洞就来出题，或者简单粗暴的把环境搬过来，不是等人喷吗，这种情况在影响力比较大的比赛基本不会出现，一旦出现就是事故。



看了 `d3ckx1` 大佬的一些靶机渗透的[文章](https://www.anquanke.com/member/124858)，心里也痒痒的，不禁想自己试试能不能独立日进去。

然而，还没开始就结束了啊，`nmap` 和 `netdiscover` 都没扫到端口，太尴尬了。后来特意找师傅问了一下，他是使用的 `vbox` 来运行靶机（如果再不行，就用 `vm` 试试），开的桥接模式。

在此顺便补充下虚拟机常用的几种网络模式

+ bridged（桥接模式）

    在这种模式下，使用 `VMnet0` 虚拟交换机，虚拟机就像是局域网中的一台独立的主机，与宿主机一样，它可以访问网络内任何一台机器。再桥接模式下，可以手工配置它的 `TCP/IP` 配置信息（`IP`、子网掩码等，而且还要和宿主机处于同一网段），以实现通过局域网的网关或路由器访问互联网，还可以将 `IP` 和 `DNS` 设置成”自动获取“。

    在桥接模式中，使用VMnet0虚拟交换机，此时虚拟机相当与网络上的一台独立计算机与主机一样，拥有一个独立的IP地址。

    - A1、A2、A、B 四个操作系统可以相互访问
    - A1、A2 的 IP 为“外网” IP，可以手动设置，也可以自动获取

    ![](https://images0.cnblogs.com/blog/33509/201305/06230732-2bf87fc799ef41c989be329c62a3fe80.png)

+ NAT（网络地址转换模式）

    使用 `NAT` 模式，就是让虚拟机借助 `NAT` （网络地址转换）功能，通过宿主机所在的网络来访问公网。也就是说，使用 `NAT` 模式可以实现在虚拟系统里访问互联网。`NAT` 模式下虚拟机的 `TCP/IP` 配置信息是由 `VMnet8` 虚拟网络的 `DHCP` 服务器提供的，因此 `IP` 和 `DNS` 一般设置为“自动获取”，因此虚拟系统也就无法和本局域网中的其他真实主机进行通讯。

    最大的优势是，虚拟机接入互联网非常简单，不需要进行其他的配置，只要宿主机能联网即可。

    **如下图所示**

    - A1、A2 可以访问 B
    - B 不可以访问 A1、A2
    - A1、A2、A相互访问
    - A1、A2 的 IP 为局域网 IP，可以手动配置，也可以自动获取

    ![](https://images0.cnblogs.com/blog/33509/201305/06230741-3447f387a8f14f528ff5a23f5b569145.png)

+ host-only（主机模式）

    虚拟机只能与虚拟机、主机互访，但虚拟机和外部的网络是被隔离开的，也就是不能上 `Internet`。

    在 host-only 模式下，虚拟系统的 TCP/IP 配置信息（如IP地址、网关地址、DNS服务器等），都是由VMnet1 虚拟网络的 DHCP 服务器来动态分配的。

    使用host-only方式：

    - A、A1、A2 可以互访
    - A1、A2 不能访问 B
    - B 不能访问 A1、A2
    - A1、A2 为局域网 IP，可以手动配置，也可以设置成自动获取模式

    ![](https://images0.cnblogs.com/blog/33509/201305/06230823-03336f6007ce428c80418ae11161dc22.png)

## HackInOS

## unknowndevice64

